set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
fam <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%                  # Randomly draw everyone
mutate(Partner = lag(Name))                      # Pick the next person in line as their partner
fam$Partner[1] <- fam$Name[nrow(fam)] # Give the last person in line the remaining partner
View(fam)
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE)
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
View(fam)
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
set.seed(997)
fam <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%                  # Randomly draw everyone
mutate(Partner = lag(Name))                      # Pick the next person in line as their partner
fam$Partner[1] <- fam$Name[nrow(fam)] # Give the last person in line the remaining partner
View(fam)
set.seed(997)
fam <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%                  # Randomly draw everyone
mutate(Partner = lag(Name))                      # Pick the next person in line as their partner
fam$Partner[1] <- fam$Name[nrow(fam)] # Give the last person in line the remaining partner
View(fam)
# Read in list of names
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's arrange in alphabetical order
set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
# Randomly giving everyone an ID
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
# Generating a partner for each ID
fam <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%                    # Randomly draw every ID
mutate(Partner ID = lag(ID))                    # Pick the next person in line as their partner
fam <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%                    # Randomly draw every ID
mutate(Partner_ID = lag(ID))                    # Pick the next person in line as their partner
fam$ID[1] <- fam$ID[nrow(fam)] # Give the last person in line the remaining partner
View(fam)
# Read in list of names
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's arrange in alphabetical order
set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
# Randomly giving everyone an ID
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
famID$ID[1] <- famID$ID[nrow(fam)]              # Give the last ID in list the remaining ID
View(fam)
View(famID)
famID$ID[1] <- famID$ID[nrow(famID)]              # Give the last ID in list the remaining ID
View(famID)
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
famID$ID[1] <- famID$ID[nrow(famID)]              # Give the last ID in list the remaining ID
View(famID)
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
famID$PartnerID[1] <- famID$ID[nrow(famID)]              # Give the last ID in list the remaining ID
View(fam)
View(famID)
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
# Generating a partner for each ID
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
famID$Partner_ID[1] <- famID$ID[nrow(famID)]              # Give the last ID in list the remaining ID
View(fam)
famID %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
famID <- fam %>%
mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))  # Randomly assign ID to each person
select(ID) %>%
mutate(ID = sample(ID)) %>%                                        # Randomly draw every ID
mutate(Partner_ID = lag(ID))                                       # Pick the next ID in list as their partner
fam <- fam %>%
select(Name)
mutate(ID = sample(Name)) %>%
mutate(Partner = lag(Name))
View(fam)
fam %>%
select(Name) %>%
mutate(ID = sample(Name)) %>%
mutate(Partner = lag(Name))
fam %>%
select(Name) %>%
mutate(ID = sample(Name)) %>%
mutate(Partner = lag(Name))
# Read in list of names
# Read in list of names
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's arrange in alphabetical order
set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
famID <- fam %>%
# Assign ID to each person
mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE)) %>%
select(ID) %>%
# Randomly draw every ID
mutate(ID = sample(ID)) %>%
# Pick the next ID in list as their partner
mutate(Partner_ID = lag(ID))
# Give the last ID in list whoever is leftover
famID$Partner_ID[1] <- famID$ID[nrow(famID)]
# Show table
famID %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
knitr::opts_chunk$set(echo = TRUE)
fam %>%
select(Name) %>%
mutate(ID = sample(Name)) %>%
mutate(Partner = lag(Name))
fam$Partner[1] <- fam$Name[nrow(fam)]
knitr::opts_chunk$set(echo = TRUE)
fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%
mutate(Partner = lag(Name))
fam$Partner[1] <- fam$Name[nrow(fam)]
fam$Partner[1] <- fam$Name[nrow(fam)]
View(fam)
install.packages("extrafont")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(knitr)
library(kableExtra)
library(extrafont)
font_import()
loadfonts()
curr_year <- year(Sys.Date())
year_limit <- 15
set.seed(98123)
ChristmasTree <- read.csv("https://raw.githubusercontent.com/t-redactyl/Blog-posts/master/Christmas%20tree%20base%20data.csv")
y
# Read in the base Christmas tree data
ChristmasTree <- read.csv("https://raw.githubusercontent.com/t-redactyl/Blog-posts/master/Christmas%20tree%20base%20data.csv")
# Generate the "lights"
Desired.Lights <- 50
Total.Lights <- sum(round(Desired.Lights * 0.35) + round(Desired.Lights * 0.20) +
round(Desired.Lights * 0.17) + round(Desired.Lights * 0.13) +
round(Desired.Lights * 0.10) + round(Desired.Lights * 0.05))
Lights <- data.frame(Lights.X = c(round(runif(round(Desired.Lights * 0.35), 4, 18), 0),
round(runif(round(Desired.Lights * 0.20), 5, 17), 0),
round(runif(round(Desired.Lights * 0.17), 6, 16), 0),
round(runif(round(Desired.Lights * 0.13), 7, 15), 0),
round(runif(round(Desired.Lights * 0.10), 8, 14), 0),
round(runif(round(Desired.Lights * 0.05), 10, 12), 0)))
Lights$Lights.Y <- c(round(runif(round(Desired.Lights * 0.35), 4, 6), 0),
round(runif(round(Desired.Lights * 0.20), 7, 8), 0),
round(runif(round(Desired.Lights * 0.17), 9, 10), 0),
round(runif(round(Desired.Lights * 0.13), 11, 12), 0),
round(runif(round(Desired.Lights * 0.10), 13, 14), 0),
round(runif(round(Desired.Lights * 0.05), 15, 17), 0))
Lights$Lights.Colour <- c(round(runif(Total.Lights, 1, 4), 0))
# Generate the "baubles"
Baubles <- data.frame(Bauble.X = c(6, 9, 15, 17, 5, 13, 16, 7, 10, 14, 7, 9, 11,
14, 8, 14, 9, 12, 11, 12, 14, 11, 17, 10))
Baubles$Bauble.Y <- c(4, 5, 4, 4, 5, 5, 5, 6, 6, 6, 8, 8, 8, 8, 10,
10, 11, 11, 12, 13, 10, 16, 7, 14)
Baubles$Bauble.Colour <- factor(c(1, 2, 2, 3, 2, 3, 1, 3, 1, 1, 1, 2, 1, 2,
3, 3, 2, 1, 3, 2, 1, 3, 3, 1))
Baubles$Bauble.Size <- c(1, 3, 1, 1, 2, 1, 2, 2, 2, 1, 1, 1, 3, 3, 3,
2, 3, 1, 1, 2, 2, 3, 3, 2)
# Generate the plot
ggplot() +
geom_tile(data = ChristmasTree, aes(x = Tree.X, y = Tree.Y, fill = Tree.Colour)) +
scale_fill_identity() +
geom_point(data = Lights, aes(x = Lights.X, y = Lights.Y, alpha = Lights.Colour),
colour = "lightgoldenrodyellow", shape = 16) +
geom_point(data = Baubles, aes(x = Bauble.X, y = Bauble.Y, colour = Bauble.Colour, size = Bauble.Size),
shape = 16) +
scale_colour_manual(values = c("firebrick2", "gold", "dodgerblue3")) +
scale_size_area(max_size = 12) +
theme_bw() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
geom_segment(aes(x = 2.5, xend = 4.5, y = 1.5, yend = 1.5), colour = "blueviolet", size = 2) +
geom_segment(aes(x = 5.5, xend = 8.5, y = 1.5, yend = 1.5), colour = "dodgerblue3", size = 2) +
geom_segment(aes(x = 13.5, xend = 16.5, y = 1.5, yend = 1.5), colour = "blueviolet", size = 2) +
geom_segment(aes(x = 17.5, xend = 19.5, y = 1.5, yend = 1.5), colour = "dodgerblue3", size = 2) +
geom_segment(aes(x = 3.5, xend = 3.5, y = 0.5, yend = 2.5), colour = "blueviolet", size = 2) +
geom_segment(aes(x = 7.0, xend = 7.0, y = 0.5, yend = 2.5), colour = "dodgerblue3", size = 2) +
geom_segment(aes(x = 15.0, xend = 15.0, y = 0.5, yend = 2.5), colour = "blueviolet", size = 2) +
geom_segment(aes(x = 18.5, xend = 18.5, y = 0.5, yend = 2.5), colour = "dodgerblue3", size = 2) +
annotate("text", x = 11, y = 20, label = "Merry Christmas!", family = "Luminari",
size = 12) +
labs(x = "", y = "") +
theme(legend.position = "none")
unlink('Secret_Santa_cache', recursive = TRUE)
unlink('Secret_Santa_cache', recursive = TRUE)
install.packages(c("backports", "broom", "callr", "car", "carData", "caret", "cli", "cowplot", "data.table", "dbplyr", "ddalpha", "digest", "dimRed", "dplyr", "e1071", "evaluate", "foreign", "ggplot2", "glue", "haven", "httpuv", "httr", "ipred", "iterators", "jsonlite", "kernlab", "knitr", "later", "lava", "lme4", "magic", "maptools", "markdown", "mime", "ModelMetrics", "nloptr", "openssl", "packrat", "pillar", "pkgconfig", "pls", "processx", "psych", "R6", "Rcpp", "RcppArmadillo", "RcppEigen", "readr", "recipes", "reprex", "RgoogleMaps", "rio", "RJSONIO", "rlang", "rmarkdown", "robustbase", "rsconnect", "rstudioapi", "scales", "sfsmisc", "shiny", "stringi", "testthat", "tidyr", "tidyselect", "tinytex", "tseries", "TTR", "xtable", "xts", "yaml", "zoo"))
install.packages(c("backports", "callr", "httpuv", "pillar", "ps", "quantreg", "RcppArmadillo", "RcppEigen", "readr", "readxl", "recipes", "reprex", "RgoogleMaps", "rio", "RJSONIO", "rlang", "rmarkdown", "robustbase", "rsconnect", "rstudioapi", "scales", "sfsmisc", "shiny", "stringi", "testthat", "tibble", "tidyr", "tidyselect", "tinytex", "tseries", "TTR", "xtable", "xts", "yaml", "zoo"))
install.packages("tinytex")
library(tinytex)
# Read in list of names
fam <- readr::read_csv(here::here("xmas_list.csv"))
# Chunk 1: setup
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(knitr)
library(kableExtra)
library(here)
# Chunk 2
knitr::include_graphics(here::here("family-pic.jpg"))
# Chunk 3
# Read in list of names
fam <-
readr::read_csv(here::here("xmas_list.csv")) %>%
dplyr::arrange(Name)
# arrange in alphabetical order and display
fam %>%
dplyr::select(name, dplyr::everything()) %>%
knitr::kable(align='l') %>%
kableExtra::kable_styling(bootstrap_options = "striped")
# Chunk 4
famID <- fam %>%
# Assign ID to each person
mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE)) %>%
select(ID) %>%
# Randomly draw every ID
mutate(ID = sample(ID)) %>%
# Pick the next ID in list as their partner
mutate(Partner_ID = lag(ID))
# Assign remaining partner to first person in list
famID$Partner_ID[1] <- famID$ID[nrow(famID)]
# Show table
famID %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
# Chunk 5
# Set seed for reproducing matches - good luck guessing my number :)
# set.seed()
fam <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%
mutate(Partner = lag(Name))
fam$Partner[1] <- fam$Name[nrow(fam)]
# Chunk 6
fam %>% arrange(Name) %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
# Read in list of names
fam <-
readr::read_csv(here::here("xmas_list.csv")) %>%
dplyr::arrange(Name)
# arrange in alphabetical order and display
fam %>%
dplyr::select(name, dplyr::everything()) %>%
knitr::kable(align='l') %>%
kableExtra::kable_styling(bootstrap_options = "striped")
# arrange in alphabetical order and display
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align='l') %>%
kableExtra::kable_styling(bootstrap_options = "striped")
# Read in list of names
fam <-
readr::read_csv(here::here("xmas_list.csv")) %>%
dplyr::arrange(Name)
# arrange in alphabetical order and display
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align='l') %>%
kableExtra::kable_styling(bootstrap_options = "striped")
# Set seed for reproducing matches - good luck guessing my number :)
# set.seed()
fam <- fam %>%
select(Participant) %>%
mutate(Participant = sample(Participant)) %>%
mutate(Partner = lag(Participant))
fam$Partner[1] <- fam$Participant[nrow(fam)]
fam %>%
select(Participant)
# Read in list of names
fam <-
readr::read_csv(here::here("xmas_list.csv")) %>%
dplyr::arrange(name)
fam <-
readr::read_csv(here::here("xmas_list.csv"))
fam
# Read in list of names
fam <-
readr::read_csv(here::here("xmas_list.csv")) %>%
dplyr::arrange(name)
# arrange in alphabetical order and display
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align='l') %>%
kableExtra::kable_styling(bootstrap_options = "striped")
fam <- fam %>%
select(Participant) %>%
mutate(name = sample(name)) %>%
mutate(Partner = lag(name))
# Set seed for reproducing matches - good luck guessing my number :)
# set.seed()
fam <-
fam %>%
dplyr::select(name) %>%
dplyr::mutate(name = sample(name)) %>%
dplyr::mutate(Partner = dplyr::lag(name))
fam$Partner[1] <- fam$name[nrow(fam)]
fam %>%
dplyr::select(name)
dplyr::select(name) %>%
dplyr::mutate(name = sample(name))
fam %>%
dplyr::select(name) %>%
dplyr::mutate(name = sample(name))
fam <-
fam %>%
dplyr::select(name) %>%
dplyr::mutate(name = sample(name)) %>%
dplyr::mutate(partner = dplyr::lag(name))
fam$Partner[1] <- fam$name[nrow(fam)]
fam$partner[1] <- fam$name[nrow(fam)]
fam %>%
dplyr::arrange(name) %>%
knitr::kable(align='l') %>%
kableExtra::kable_styling(bootstrap_options = "striped")
# Chunk 1: setup
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
warning = FALSE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(knitr)
library(kableExtra)
library(here)
# Chunk 2: fami-pic
knitr::include_graphics(here::here("family-pic.png"))
# Chunk 3: participants
# read in list of names
fam <-
readr::read_csv(here::here("xmas_list.csv")) %>%
dplyr::arrange(name)
# display participants
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align="l", col.names = NULL) %>%
kableExtra::kable_styling(bootstrap_options = "striped")
# Chunk 4: matches
set.seed(params$seed)
fam <-
fam %>%
dplyr::mutate(name = sample(name)) %>%
dplyr::mutate(partner = dplyr::lag(name))
fam$partner[1] <- fam$name[nrow(fam)]
fam %>%
dplyr::arrange(name) %>%
knitr::kable(align="l") %>%
kableExtra::kable_styling(bootstrap_options = "striped")
fam %>%
dplyr::mutate(name = sample(name))
# read in list of names
fam <-
readr::read_csv(here::here("xmas_list.csv")) %>%
dplyr::arrange(name)
# display participants
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align="l", col.names = NULL) %>%
kableExtra::kable_styling(bootstrap_options = "striped")
fam %>%
dplyr::mutate(name = sample(name))
fam %>%
dplyr::mutate(name = sample(name)) %>%
dplyr::mutate(partner = dplyr::lag(name))
fam$partner[1] <- fam$name[nrow(fam)]
set.seed(params$seed)
fam <-
fam %>%
dplyr::mutate(name = sample(name)) %>%
dplyr::mutate(partner = dplyr::lag(name))
fam$partner[1] <- fam$name[nrow(fam)]
fam
fam %>%
dplyr::arrange(name) %>%
knitr::kable(align="l") %>%
kableExtra::kable_styling(bootstrap_options = "striped")
knitr::include_graphics(here::here("figs", params$year))
# Chunk 1: setup
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
warning = FALSE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(knitr)
library(kableExtra)
library(here)
knitr::include_graphics(here::here("figs", params$year))
knitr::include_graphics(here::here("figs", paste0(params$year), ".png"))
knitr::include_graphics(here::here("figs", paste0(params$year, ".png"))
knitr::include_graphics(here::here("figs", paste0(params$year, ".png")))
knitr::include_graphics(here::here("figs", paste0(params$year, ".png")))
paste0(params$year, ".png")
# read in list of names
fam <-
readr::read_csv(here::here("data", "xmas_list.csv")) %>%
dplyr::arrange(name)
# display participants
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align="l", col.names = NULL) %>%
kableExtra::kable_styling(bootstrap_options = "striped")
# display participants
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align="l", col.names = NULL) %>%
kableExtra::kable_styling(bootstrap_options = "striped") %>%
column_spec(1, width = "30em", background = "yellow")
# display participants
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align="l", col.names = NULL) %>%
kableExtra::kable_styling(bootstrap_options = "striped")
# read in list of names
fam <-
readr::read_csv(here::here("data", "xmas_list.csv")) %>%
dplyr::arrange(name)
# display participants
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align="l", col.names = NULL) %>%
kableExtra::kable_styling(bootstrap_options = "striped")
# read in list of names
fam <-
readr::read_csv(here::here("data", "xmas_list.csv")) %>%
dplyr::arrange(name)
# display participants
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align="l", col.names = NULL) %>%
kableExtra::kable_styling(bootstrap_options = "striped") %>%
kableExtra::column_spec(1, width = "15em")
# read in list of names
fam <-
readr::read_csv(here::here("data", "xmas_list.csv")) %>%
dplyr::arrange(name)
# display participants
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align="l", col.names = NULL) %>%
kableExtra::kable_styling(bootstrap_options = "striped") %>%
kableExtra::column_spec(2, width = "15em")
# read in list of names
fam <-
readr::read_csv(here::here("data", "xmas_list.csv")) %>%
dplyr::arrange(name)
# display participants
fam %>%
dplyr::select(name, dplyr::everything()) %>%
dplyr::rename(Participant = name) %>%
knitr::kable(align="l", col.names = NULL) %>%
kableExtra::kable_styling(bootstrap_options = "striped") %>%
kableExtra::column_spec(1, width = "15em")
knitr::render(here::here("template", "secret_santa.Rmd"))
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
library(knitr)
rmarkdown::render((here::here("template", "secret_santa.Rmd")),
output_dir = here::here("docs"),
params = list(year = 2019
, limit = 15))
library(glue)
year <- 2019
limit <- 15
glue::glue("secret_santa<<year>>")
glue::glue("secret_santa{{year}}")
glue(blah, blah)
glue("blah", "blah)"
glue("blah", "blah")
source('C:/Users/diaz2/git/secret-santa/render_santa.R', echo=TRUE)
