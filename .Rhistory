knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(scales)
curr_year <- year(Sys.Date())
library(scales)
library(lubridate)
curr_year <- year(Sys.Date())
curr_year
year_limit <- 15
library(readxl)
fam <- as.tibble(read_excel("\.xmas_list.xlsx")
fam <- as.tibble(read_excel(".\xmas_list.xlsx")
fam <- as.tibble(read_excel("./xmas_list.xlsx")
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
fam
# Display participants
print(fam$Name)
# Display participants
print(fam)
install.packages("kable")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(kable)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
curr_year <- year(Sys.Date())
year_limit <- 15
# Read in list
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Display participants
kabble(fam)
library(knitr)
# Display participants
kabble(fam)
# Display participants
knitr::kabble(fam)
# Display participants
knitr::kabble(fam$Name)
# Display participants
kabble(fam$Name)
# Display participants
kable(fam$Name)
# Display participants
kable(fam)
# Arrange in alphabetical order
fam <- fam %>% arrange(Name)
# Display participants
kable(fam)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(knitr)
curr_year <- year(Sys.Date())
year_limit <- 15
set.seed(997)
# Let's give everyone an ID and arrange in alphabetical order
fam <- fam %>% mutate(ID = r.unif(length(fam), min=0, 100))
r.unif(10, 0,1)
# Let's give everyone an ID and arrange in alphabetical order
fam <- fam %>% mutate(ID = runif(length(fam), min=0, 100))
# Let's give everyone an ID and arrange in alphabetical order
fam <- fam %>% mutate(ID = runif(length(fam$ID), min=0, 100))
fam
# Let's give everyone an ID and arrange in alphabetical order
fam <- fam %>% mutate(ID = floor(runif(length(fam$ID), min=0, 100)))
fam
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's give everyone an ID and arrange in alphabetical order
set.seed(997)
fam <- fam %>% mutate(ID = floor(runif(length(fam$ID), min=0, 100)))
%>% arrange(Name)
fam <- fam %>% mutate(ID = floor(runif(length(fam$ID), min=0, 100)) %>% arrange(Name)
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Read in list of names
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's give everyone an ID and arrange in alphabetical order
set.seed(997)
fam <- fam %>% mutate(ID = floor(runif(length(fam$ID), min=0, 100)))
fam
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's give everyone an ID and arrange in alphabetical order
set.seed(997)
fam <- fam %>% mutate(ID = sample(100:200, length(fam$ID), replace=F))
%>% arrange(Name)
fam <- fam %>% mutate(ID = sample(100:200, length(fam$ID), replace=F)) %>% arrange(Name)
fam
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's give everyone an ID and arrange in alphabetical order
set.seed(997)
fam <- fam %>% mutate(ID = sample(100:200, length(fam$ID), replace=F)) %>% arrange(Name)
# Display participants
kable(fam)
library(xtable)
# Display participants
kable(fam) %>% kable_styling(bootstrap_options = "striped", full_width = F)
# Display participants
kable(fam, full_width = FALSE)
# Display participants
xtable(fam)
# Display participants
kable(fam)
# Display participants
kable(fam$Name)
# Display participants
kable(fam)
# Display participants
kable(fam, align=rep('l', 3))
```{r participants, results='asis', include=FALSE}
install.packages("kableExtra")
library(kableExtra)
# Display participants
fam %>% select(Name) %>% kable(align='c') %>% kable_styling(bootstrap_options = "striped", full_width = F)
sample(fam$ID, length(fam$ID), replace = FALSE)
fam %>% mutate(Match = sample(fam$Name), length(fam$ID), replace=FALSE)
fam %>% mutate(Match = sample((fam$Name), length(fam$ID), replace=FALSE))
fam
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(knitr)
library(kableExtra)
curr_year <- year(Sys.Date())
year_limit <- 15
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's arrange in alphabetical order
set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
fam_match <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%
mutate(Partner = lag(Name))
fam_match
View(fam_match)
fam$Parner[1] <- fam$Name[nrow(fam_match)]
fam_match$Parner[1] <- fam_match$Name[nrow(fam_match)]
fam_match <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%
mutate(Partner = lag(Name))
fam_match$Parner[1] <- fam_match$Name[nrow(fam_match)]
fam_match$Partner[1] <- fam_match$Name[nrow(fam_match)]
View(fam_match)
fam_match <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%
mutate(Partner = lag(Name))
fam_match$Partner[1] <- fam_match$Name[nrow(fam_match)]
fam <- fam %>% mutate(ID = floor(runif(length(fam$ID), min=100, max=200)))
fam
---
title: 'A Diaz, Guzman, & Co. Xmas: Secret Santa 2018'
author: "David A. Diaz"
output:
html_document: default
pdf_document: default
---
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(knitr)
library(kableExtra)
curr_year <- year(Sys.Date())
year_limit <- 15
```
# Introduction
Hello and welcome familia Diaz/Guzman (+ all others)! We are excited to continue our Secret Santa tradition for `r curr_year`. Let's go over some quick guidelines and then delve in!
* As always, everyone is randomly matched to another human (or to a Cindy, a dog, or a cat).
* Your mission is to buy a thoughtful gift for your Secret Santa to be given at our Christmas celebration on either December 24th or 25th.
* The dollar limit for this year's big event is **$`r year_limit`**.
# The Participants
Let's see who is participating this year:
```{r echo=FALSE, results='asis'}
# Read in list of names
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's arrange in alphabetical order
set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
```
# The Matching
An easy way to do the matching in **R** is to "seat"" all the participants in random order in a circle and assign them to give a gift to the person on their right. This helps to not have any self-matches that might occur in a "draw-a-name-out-of-a-hat" approach, though it does prevent any cross-gifting, i.e., no two people *i* and *j* can be each other's Santa.
```{r match}
fam <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%                  # Randomly draw everyone
mutate(Partner = lag(Name))                      # Pick the next person in line as their partner
fam$Partner[1] <- fam$Name[nrow(fam)] # Give the last person in line the remaining partner
```
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(knitr)
library(kableExtra)
curr_year <- year(Sys.Date())
year_limit <- 15
# Read in list of names
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's arrange in alphabetical order
set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
fam <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%                  # Randomly draw everyone
mutate(Partner = lag(Name))                      # Pick the next person in line as their partner
fam$Partner[1] <- fam$Name[nrow(fam)] # Give the last person in line the remaining partner
View(fam)
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE)
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
View(fam)
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
set.seed(997)
fam <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%                  # Randomly draw everyone
mutate(Partner = lag(Name))                      # Pick the next person in line as their partner
fam$Partner[1] <- fam$Name[nrow(fam)] # Give the last person in line the remaining partner
View(fam)
set.seed(997)
fam <- fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%                  # Randomly draw everyone
mutate(Partner = lag(Name))                      # Pick the next person in line as their partner
fam$Partner[1] <- fam$Name[nrow(fam)] # Give the last person in line the remaining partner
View(fam)
# Read in list of names
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's arrange in alphabetical order
set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
# Randomly giving everyone an ID
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
# Generating a partner for each ID
fam <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%                    # Randomly draw every ID
mutate(Partner ID = lag(ID))                    # Pick the next person in line as their partner
fam <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%                    # Randomly draw every ID
mutate(Partner_ID = lag(ID))                    # Pick the next person in line as their partner
fam$ID[1] <- fam$ID[nrow(fam)] # Give the last person in line the remaining partner
View(fam)
# Read in list of names
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's arrange in alphabetical order
set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
# Randomly giving everyone an ID
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
famID$ID[1] <- famID$ID[nrow(fam)]              # Give the last ID in list the remaining ID
View(fam)
View(famID)
famID$ID[1] <- famID$ID[nrow(famID)]              # Give the last ID in list the remaining ID
View(famID)
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
famID$ID[1] <- famID$ID[nrow(famID)]              # Give the last ID in list the remaining ID
View(famID)
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
famID$PartnerID[1] <- famID$ID[nrow(famID)]              # Give the last ID in list the remaining ID
View(fam)
View(famID)
fam <- fam %>% mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))
# Generating a partner for each ID
famID <- fam %>%
select(ID) %>%
mutate(ID = sample(ID)) %>%          # Randomly draw every ID
mutate(Partner_ID = lag(ID))         # Pick the next ID in list as their partner
famID$Partner_ID[1] <- famID$ID[nrow(famID)]              # Give the last ID in list the remaining ID
View(fam)
famID %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
famID <- fam %>%
mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE))  # Randomly assign ID to each person
select(ID) %>%
mutate(ID = sample(ID)) %>%                                        # Randomly draw every ID
mutate(Partner_ID = lag(ID))                                       # Pick the next ID in list as their partner
fam <- fam %>%
select(Name)
mutate(ID = sample(Name)) %>%
mutate(Partner = lag(Name))
View(fam)
fam %>%
select(Name) %>%
mutate(ID = sample(Name)) %>%
mutate(Partner = lag(Name))
fam %>%
select(Name) %>%
mutate(ID = sample(Name)) %>%
mutate(Partner = lag(Name))
# Read in list of names
# Read in list of names
fam <- as.tibble(read_excel("./xmas_list.xlsx"))
# Let's arrange in alphabetical order
set.seed(997)
fam <- fam %>% select(Name, everything()) %>% arrange(Name)
# Display participants
fam %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
famID <- fam %>%
# Assign ID to each person
mutate(ID = sample(seq(100,200), length(fam$Name), replace=FALSE)) %>%
select(ID) %>%
# Randomly draw every ID
mutate(ID = sample(ID)) %>%
# Pick the next ID in list as their partner
mutate(Partner_ID = lag(ID))
# Give the last ID in list whoever is leftover
famID$Partner_ID[1] <- famID$ID[nrow(famID)]
# Show table
famID %>% kable(align='l') %>% kable_styling(bootstrap_options = "striped")
knitr::opts_chunk$set(echo = TRUE)
fam %>%
select(Name) %>%
mutate(ID = sample(Name)) %>%
mutate(Partner = lag(Name))
fam$Partner[1] <- fam$Name[nrow(fam)]
knitr::opts_chunk$set(echo = TRUE)
fam %>%
select(Name) %>%
mutate(Name = sample(Name)) %>%
mutate(Partner = lag(Name))
fam$Partner[1] <- fam$Name[nrow(fam)]
fam$Partner[1] <- fam$Name[nrow(fam)]
View(fam)
install.packages("extrafont")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(scales)
library(readxl)
library(knitr)
library(kableExtra)
library(extrafont)
font_import()
loadfonts()
curr_year <- year(Sys.Date())
year_limit <- 15
set.seed(98123)
ChristmasTree <- read.csv("https://raw.githubusercontent.com/t-redactyl/Blog-posts/master/Christmas%20tree%20base%20data.csv")
y
# Read in the base Christmas tree data
ChristmasTree <- read.csv("https://raw.githubusercontent.com/t-redactyl/Blog-posts/master/Christmas%20tree%20base%20data.csv")
# Generate the "lights"
Desired.Lights <- 50
Total.Lights <- sum(round(Desired.Lights * 0.35) + round(Desired.Lights * 0.20) +
round(Desired.Lights * 0.17) + round(Desired.Lights * 0.13) +
round(Desired.Lights * 0.10) + round(Desired.Lights * 0.05))
Lights <- data.frame(Lights.X = c(round(runif(round(Desired.Lights * 0.35), 4, 18), 0),
round(runif(round(Desired.Lights * 0.20), 5, 17), 0),
round(runif(round(Desired.Lights * 0.17), 6, 16), 0),
round(runif(round(Desired.Lights * 0.13), 7, 15), 0),
round(runif(round(Desired.Lights * 0.10), 8, 14), 0),
round(runif(round(Desired.Lights * 0.05), 10, 12), 0)))
Lights$Lights.Y <- c(round(runif(round(Desired.Lights * 0.35), 4, 6), 0),
round(runif(round(Desired.Lights * 0.20), 7, 8), 0),
round(runif(round(Desired.Lights * 0.17), 9, 10), 0),
round(runif(round(Desired.Lights * 0.13), 11, 12), 0),
round(runif(round(Desired.Lights * 0.10), 13, 14), 0),
round(runif(round(Desired.Lights * 0.05), 15, 17), 0))
Lights$Lights.Colour <- c(round(runif(Total.Lights, 1, 4), 0))
# Generate the "baubles"
Baubles <- data.frame(Bauble.X = c(6, 9, 15, 17, 5, 13, 16, 7, 10, 14, 7, 9, 11,
14, 8, 14, 9, 12, 11, 12, 14, 11, 17, 10))
Baubles$Bauble.Y <- c(4, 5, 4, 4, 5, 5, 5, 6, 6, 6, 8, 8, 8, 8, 10,
10, 11, 11, 12, 13, 10, 16, 7, 14)
Baubles$Bauble.Colour <- factor(c(1, 2, 2, 3, 2, 3, 1, 3, 1, 1, 1, 2, 1, 2,
3, 3, 2, 1, 3, 2, 1, 3, 3, 1))
Baubles$Bauble.Size <- c(1, 3, 1, 1, 2, 1, 2, 2, 2, 1, 1, 1, 3, 3, 3,
2, 3, 1, 1, 2, 2, 3, 3, 2)
# Generate the plot
ggplot() +
geom_tile(data = ChristmasTree, aes(x = Tree.X, y = Tree.Y, fill = Tree.Colour)) +
scale_fill_identity() +
geom_point(data = Lights, aes(x = Lights.X, y = Lights.Y, alpha = Lights.Colour),
colour = "lightgoldenrodyellow", shape = 16) +
geom_point(data = Baubles, aes(x = Bauble.X, y = Bauble.Y, colour = Bauble.Colour, size = Bauble.Size),
shape = 16) +
scale_colour_manual(values = c("firebrick2", "gold", "dodgerblue3")) +
scale_size_area(max_size = 12) +
theme_bw() +
scale_x_continuous(breaks = NULL) +
scale_y_continuous(breaks = NULL) +
geom_segment(aes(x = 2.5, xend = 4.5, y = 1.5, yend = 1.5), colour = "blueviolet", size = 2) +
geom_segment(aes(x = 5.5, xend = 8.5, y = 1.5, yend = 1.5), colour = "dodgerblue3", size = 2) +
geom_segment(aes(x = 13.5, xend = 16.5, y = 1.5, yend = 1.5), colour = "blueviolet", size = 2) +
geom_segment(aes(x = 17.5, xend = 19.5, y = 1.5, yend = 1.5), colour = "dodgerblue3", size = 2) +
geom_segment(aes(x = 3.5, xend = 3.5, y = 0.5, yend = 2.5), colour = "blueviolet", size = 2) +
geom_segment(aes(x = 7.0, xend = 7.0, y = 0.5, yend = 2.5), colour = "dodgerblue3", size = 2) +
geom_segment(aes(x = 15.0, xend = 15.0, y = 0.5, yend = 2.5), colour = "blueviolet", size = 2) +
geom_segment(aes(x = 18.5, xend = 18.5, y = 0.5, yend = 2.5), colour = "dodgerblue3", size = 2) +
annotate("text", x = 11, y = 20, label = "Merry Christmas!", family = "Luminari",
size = 12) +
labs(x = "", y = "") +
theme(legend.position = "none")
unlink('Secret_Santa_cache', recursive = TRUE)
unlink('Secret_Santa_cache', recursive = TRUE)
install.packages(c("backports", "broom", "callr", "car", "carData", "caret", "cli", "cowplot", "data.table", "dbplyr", "ddalpha", "digest", "dimRed", "dplyr", "e1071", "evaluate", "foreign", "ggplot2", "glue", "haven", "httpuv", "httr", "ipred", "iterators", "jsonlite", "kernlab", "knitr", "later", "lava", "lme4", "magic", "maptools", "markdown", "mime", "ModelMetrics", "nloptr", "openssl", "packrat", "pillar", "pkgconfig", "pls", "processx", "psych", "R6", "Rcpp", "RcppArmadillo", "RcppEigen", "readr", "recipes", "reprex", "RgoogleMaps", "rio", "RJSONIO", "rlang", "rmarkdown", "robustbase", "rsconnect", "rstudioapi", "scales", "sfsmisc", "shiny", "stringi", "testthat", "tidyr", "tidyselect", "tinytex", "tseries", "TTR", "xtable", "xts", "yaml", "zoo"))
